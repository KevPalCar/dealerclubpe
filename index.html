<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../assets/images/favicon_pokerchips.png" type="image/x-icon">
    <link rel="icon" href="../assets/images/favicon_pokerchips.png" type="image/png">
    <title>DealerClub - Donde la Pasión por el Juego se Profesionaliza</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <!-- Font Awesome para iconos, si aún no está en main.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- ANNOUNCE BAR -->
    <div id="announce-bar" class="announce-bar" style="display: none;">
        <p id="announce-text"></p>
        <button id="close-announce-bar"><i class="fas fa-times"></i></button>
    </div>

    <header class="hero-section">
        <div class="navbar">
            <div class="logo">
                <a href="index.html">DealerClub</a>
            </div>
            <nav class="nav-menu">
                <ul>
                    <li><a href="index.html#inicio">Inicio</a></li>
                    <li><a href="sections/cursos.html">Cursos</a></li>
                    <li><a href="sections/servicios.html">Servicios</a></li>
                    <li><a href="sections/nosotros.html">Nosotros</a></li>
                    <li><a href="sections/login.html" id="student-access-link">Iniciar Sesión</a></li>
                </ul>
            </nav>
        </div>

        <div class="hero-content">
            <h1><strong>DealerClub:</strong> Donde la Pasión por el Juego se Profesionaliza. Tu Talento, Nuestro Estándar.</h1>
            <p>Formamos a la élite de croupiers y proveemos talento "A1" para casinos en el mundo, cruceros y eventos exclusivos en Lima.</p>
            <div class="hero-buttons">
                <a href="sections/cursos.html" class="btn btn-primary">Empieza tu formacion hoy</a>
                <a href="sections/servicios.html" class="btn btn-secondary">Contrata nuestro servicio</a>
            </div>
        </div>
    </header>

    <section class="why-us-section">
        <h2><strong>¿Por qué elegir DealerClub?</strong></h2>
        <div class="reasons-grid">
            <div class="reason-card">
                <h3>Formación de Élite</h3>
                <p>Programas diseñados por expertos con enfoque en habilidades prácticas y teóricas para la excelencia en el juego.</p>
            </div>
            <div class="reason-card">
                <h3>Oportunidades Laborales</h3>
                <p>Conexiones exclusivas con los mejores casinos y empresas de eventos para asegurar tu futuro profesional.</p>
            </div>
            <div class="reason-card">
                <h3>Comunidad Exclusiva</h3>
                <p>Únete a una red de profesionales apasionados, comparte conocimientos y crece junto a los mejores.</p>
            </div>
            <div class="reason-card">
                <h3>Certificación Reconocida</h3>
                <p>Obtén una certificación que valida tus habilidades y te abre puertas en la industria nacional e internacional.</p>
            </div>
            <div class="reason-card">
                <h3>Cupos Limitados</h3>
                <p>Ofrecemos la optimización de tiempo y espacio, añadiendo la metodología adecuada para cada estudiante.</p>
            </div>
            <div class="reason-card">
                <h3>Inversión Personal a Corto Plazo</h3>
                <p>Por el hecho de que nuestros cursos en su gran mayoría son INTENSIVOS, damos la garantía de un aprendizaje óptimo para que puedas desarrollarte profesionalmente en seguida.</p>
            </div>
        </div>
    </section>

    <section class="our-work-section">
        <div class="work-content">
            <h2><strong>Nuestro Trabajo</strong></h2>
            <p>Formamos a la élite de croupiers y proveemos talento "A1" para casinos y eventos exclusivos en Lima. Nuestro trabajo es nuestra mejor carta de presentación. Aquí puedes ver una muestra de nuestro talento y dedicación.</p>
        </div>
        <div class="work-gallery">
            <div class="swiper mySwiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <img src="https://images.pexels.com/photos/7594410/pexels-photo-7594410.jpeg" alt="Trabajo de DealerClub 1">
                    </div>
                    <div class="swiper-slide">
                        <img src="https://images.pexels.com/photos/7594577/pexels-photo-7594577.jpeg" alt="Trabajo de DealerClub 2">
                    </div>
                    <div class="swiper-slide">
                        <img src="https://images.pexels.com/photos/7594313/pexels-photo-7594313.jpeg" alt="Trabajo de DealerClub 3">
                    </div>
                    <div class="swiper-slide">
                        <img src="https://images.pexels.com/photos/12406977/pexels-photo-12406977.jpeg" alt="Trabajo de DealerClub 2">
                    </div>
                    <div class="swiper-slide">
                        <img src="https://images.pexels.com/photos/7594373/pexels-photo-7594373.jpeg" alt="Trabajo de DealerClub 2">
                    </div>
                </div>
            </div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
    </section>

    <footer class="main-footer">
        <div class="footer-container">
            <div class="footer-info">
                <h3>DealerClub</h3>
                <p>Tu talento, es nuestro estandar.</p>
            </div>
            <div class="footer-contact">
                <h3>Contacto</h3>
                <p>WhatsApp: +51 936437502</p>
                <p>Dirección: Calle Los Mirtos 145 / Independencia</p>
            </div>
            <div class="footer-social">
                <h3>Síguenos</h3>
                <a href="https://www.instagram.com/dealerclub.pe/" target="_blank" rel="noopener noreferrer">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram" class="social-icon">
                </a>
            </div>
            <!-- ELIMINADO: Enlace discreto al panel de administración -->
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 DealerClub. Todos los derechos reservados.</p>
        </div>
    </footer>
    
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <script>
        var swiper = new Swiper(".mySwiper", {
            slidesPerView: "auto",
            centeredSlides: true,
            spaceBetween: 30,
            loop: true,
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
        });
    </script>
    <!-- Icono flotante de WhatsApp -->
    <a href="https://wa.me/51936437502?text=Hola%2C%20me%20gustar%C3%ADa%20obtener%20m%C3%A1s%20informaci%C3%B3n." class="whatsapp-float" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- SCRIPT DE INICIALIZACIÓN DE FIREBASE Y LÓGICA DEL ANNOUNCE BAR/HEADER LINK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, onSnapshot, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Estas variables se usarán para la inicialización y rutas de Firestore
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {
            apiKey: "AIzaSyA3YsyUDmLeAvvgWwvCnjeJt-HbGGk--PY", 
            authDomain: "dealerclubpe.firebaseapp.com",
            projectId: "dealerclubpe",
            storageBucket: "dealerclubpe.firebasestorage.app",
            messagingSenderId: "330568352415",
            appId: "1:330568352415:web:9fcd7651698bfafac998aa",
            measurementId: "G-PF3W9NDSDP"
        };
        // initialAuthToken no se usará directamente para autenticación en index.html
        // Ya que index.html es una página pública que no inicia sesión automáticamente.
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null; 

        // Inicialización de Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);

        document.addEventListener('DOMContentLoaded', () => {
            // Lógica para el enlace del Dashboard de Estudiante en el HEADER
            const studentAccessLink = document.getElementById('student-access-link');
            onAuthStateChanged(auth, async (user) => {
                if (user) {
                    // Si el usuario está logueado, verifica su rol para actualizar el enlace
                    const userRoleRef = doc(db, `/artifacts/${appId}/public/data/user_roles/${user.uid}`);
                    try {
                        const userRoleSnap = await getDoc(userRoleRef);
                        if (userRoleSnap.exists()) {
                            const role = userRoleSnap.data().role;
                            if (role === 'admin') {
                                studentAccessLink.textContent = 'Panel Admin';
                                studentAccessLink.href = 'sections/admin.html';
                            } else if (role === 'student') {
                                studentAccessLink.textContent = 'Mi Dashboard';
                                studentAccessLink.href = 'sections/student_dashboard.html';
                            } else {
                                // Rol desconocido, tratar como no logueado y cerrar sesión
                                studentAccessLink.textContent = 'Iniciar Sesión';
                                studentAccessLink.href = 'sections/login.html';
                                console.warn("Index.html: Rol de usuario desconocido. Cerrando sesión.");
                                await signOut(auth); 
                            }
                        } else {
                            // Documento de rol no encontrado, tratar como no logueado y cerrar sesión
                            studentAccessLink.textContent = 'Iniciar Sesión';
                            studentAccessLink.href = 'sections/login.html';
                            console.warn("Index.html: Documento de rol no encontrado. Cerrando sesión.");
                            await signOut(auth); 
                        }
                    } catch (error) {
                        console.error("Index.html: Error al obtener el rol del usuario:", error);
                        studentAccessLink.textContent = 'Iniciar Sesión';
                        studentAccessLink.href = 'sections/login.html';
                        await signOut(auth); 
                    }
                } else {
                    // No hay usuario logueado
                    studentAccessLink.textContent = 'Iniciar Sesión';
                    studentAccessLink.href = 'sections/login.html';
                }
            });

            // Lógica para el Announce Bar
            const announceBar = document.getElementById('announce-bar');
            const announceTextElement = document.getElementById('announce-text');
            const closeAnnounceBarBtn = document.getElementById('close-announce-bar');

            // Asegurarse de que db y appId estén disponibles antes de intentar onSnapshot
            if (db && appId) {
                const announceDocRef = doc(db, `/artifacts/${appId}/public/data/config/announceBar`);

                onSnapshot(announceDocRef, (docSnapshot) => {
                    if (docSnapshot.exists()) {
                        const data = docSnapshot.data();
                        if (data.status === 'active' && data.text) {
                            announceTextElement.textContent = data.text;
                            announceBar.style.display = 'flex';
                        } else {
                            announceBar.style.display = 'none';
                        }
                    } else {
                        announceBar.style.display = 'none';
                        console.log("Index.html: Documento 'announceBar' no encontrado en Firestore.");
                    }
                }, (error) => {
                    console.error("Index.html: Error al escuchar el announce bar desde Firestore:", error);
                    announceBar.style.display = 'none';
                });
            } else {
                 console.error("Index.html: Firebase Firestore no está completamente inicializado para el announce bar.");
                 announceBar.style.display = 'none';
            }

            closeAnnounceBarBtn.addEventListener('click', () => {
                announceBar.style.display = 'none';
            });
        });
    </script>
</body>
</html>
